<!--=========== Loader =============-->
<!-- <div id="gen-loading">
        <div id="gen-loading-center">
            <img src="assets/images/logo-1.png" alt="loading">
        </div>
    </div> -->
<!--=========== Loader =============-->

<!-- Recover-Password -->
<section class="position-relative pb-0">
    <div class="recover-password-page-background"
        style="background-image:url('assets/images/background/asset-75.jpg');">
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center">
                    <form id="pms_recover_password_form" class="pms-form" [formGroup]="submitEventFormGroup"
                        *ngIf="submitEventFormGroup">

                        <ng-container *ngIf="momentSubmittedSuccessfully; else displayForSubmittingMoment;">
                            <h4>Event successfully submitted</h4>
                            <p class="font-weight-bold">
                                We will contact you as soon as possible.
                                Thanks for your interest using Shownest Africa.</p>
                            <div class="row gt-form">
                                <div class="col-md-6 mb-4">
                                    <a [routerLink]="null" (click)="addAnotherMoment()" class="gen-button">
                                        <div class="gen-button-block">
                                            Submit another
                                        </div>
                                    </a>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a [routerLink]="null" class="gen-button">
                                        <div class="gen-button-block">
                                            Cancel
                                        </div>
                                    </a>
                                </div>



                            </div>
                        </ng-container>
                        <ng-template #displayForSubmittingMoment>
                            <h4>Submit event</h4>
                            <snap-errornote></snap-errornote>

                            <ng-template #formFieldErrorsTemplate let-formControlFormGroup="formGroup"
                                let-formFieldErrors="errors">
                                <snap-display-form-field-errors [formGroupElement]="formControlFormGroup"
                                    [submitted]="submitted"
                                    [requiredOrNullOrNoValueProvidedErrorMessage]="formFieldErrors?.requiredOrNullOrNoValueProvidedErrorMessage || null"
                                    [minCharacterNotGenuinelyAchievedErrorMessage]="formFieldErrors?.minCharacterNotGenuinelyAchievedErrorMessage || null"
                                    [maxLengthPrefixErrorMessage]="formFieldErrors?.maxLengthPrefixErrorMessage || null"
                                    [minLengthPrefixErrorMessage]="formFieldErrors?.minLengthPrefixErrorMessage || null"
                                    [emailErrorMessage]="formFieldErrors?.emailErrorMessage || null"
                                    [emailHasBeenTakenErrorMessage]="formFieldErrors?.emailHasBeenTakenErrorMessage || null"
                                    [associationDoesNotExistErrorMessage]="formFieldErrors?.associationDoesNotExistErrorMessage || null"
                                    [doesNotExistErrorMessage]="formFieldErrors?.doesNotExistErrorMessage || null"
                                    [phoneNumberHasBeenTakenErrorMessage]="formFieldErrors?.phoneNumberHasBeenTakenErrorMessage || null"
                                    [usernameHasBeenTakenErrorMessage]="formFieldErrors?.usernameHasBeenTakenErrorMessage || null">
                                </snap-display-form-field-errors>
                            </ng-template>

                            <p class="font-weight-bold">Please enter the following details.<br>We will establish a
                                shortlist
                                as quickly as possible. If you are shortlisted, we will email or
                                call you to continue with the process.</p>
                            <ul class="pms-form-fields-wrapper pl-0 mb-4">
                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.USERNAME
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.USERNAME.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName)?.touched || submitted)">
                                        {{ SUBMIT_EVENT_PARAM.USERNAME.label }}
                                    </label>
                                    <input
                                        [id]="SUBMIT_EVENT_PARAM.USERNAME
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.USERNAME.formControlName)"
                                        [formControlName]="SUBMIT_EVENT_PARAM.USERNAME.formControlName" type="text"
                                        [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName)?.touched || submitted)"
                                        [placeholder]="SUBMIT_EVENT_PARAM.USERNAME.placeholder" [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.USERNAME.isRequired"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.USERNAME.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.USERNAME.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.USERNAME.errors
                                        }"></ng-container>
                                </li>
                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.EMAIL
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.EMAIL.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName)?.touched || submitted)">
                                        {{ SUBMIT_EVENT_PARAM.EMAIL.label }}
                                    </label>
                                    <input type="email"
                                        [id]="SUBMIT_EVENT_PARAM.EMAIL
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.EMAIL.formControlName)"
                                        [formControlName]="SUBMIT_EVENT_PARAM.EMAIL.formControlName" type="text"
                                        [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName)?.touched || submitted)"
                                        [placeholder]="SUBMIT_EVENT_PARAM.EMAIL.placeholder" [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.EMAIL.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.EMAIL.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.EMAIL.errors
                                        }"></ng-container>
                                </li>
                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.PHONE_NUMBER
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)?.touched || submitted)">
                                        {{ SUBMIT_EVENT_PARAM.PHONE_NUMBER.label }}
                                    </label>
                                    <input type="tel"
                                        [id]="SUBMIT_EVENT_PARAM.PHONE_NUMBER
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)"
                                        [formControlName]="SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName"
                                        [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)?.touched || submitted)"
                                        [placeholder]="SUBMIT_EVENT_PARAM.PHONE_NUMBER.placeholder" [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.PHONE_NUMBER.isRequired"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.PHONE_NUMBER.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.PHONE_NUMBER.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.PHONE_NUMBER.errors
                                        }"></ng-container>
                                </li>
                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.NAME_OF_EVENT
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)?.touched || submitted)">
                                        {{ SUBMIT_EVENT_PARAM.NAME_OF_EVENT.label }}
                                    </label>
                                    <input
                                        [id]="SUBMIT_EVENT_PARAM.NAME_OF_EVENT
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)"
                                        [formControlName]="SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName" type="text"
                                        [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)?.touched || submitted)"
                                        [placeholder]="SUBMIT_EVENT_PARAM.NAME_OF_EVENT.placeholder"
                                        [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.NAME_OF_EVENT.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.NAME_OF_EVENT.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.NAME_OF_EVENT.errors
                                        }"></ng-container>
                                </li>
                                <li class="pms-field mb-5">
                                    <label
                                        [class.text-danger]="submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)
                                ?.invalid && (submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)?.touched || submitted )"
                                        [for]="SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.slug(
                                    SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP,
                                    SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName
                                )">
                                        {{ SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.label }}

                                    </label>
                                    <select [formControlName]="SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName"
                                        [class.is-invalid]="submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)
                                ?.invalid && (submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)?.touched || submitted )"
                                        [style.border-color]="(submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)?.invalid && (submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)
                                ?.touched || submitted )) ? '#dc3545': null" [id]="SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.slug(
                                    SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP,
                                    SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName
                                )" aria-required="true" [attr.aria-invalid]="submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)
                                ?.invalid">
                                        <option [disabled]="true"
                                            [value]="SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.defaultValue">
                                            Select type</option>
                                        <option *ngFor="let moment of typeOfTicket; trackBy: trackByForTypeOfTicket"
                                            [value]="moment?.get('id')">{{
                                            moment?.get('title') | titlecase}}
                                        </option>
                                    </select>

                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                        formGroup: submitEventFormGroup?.get(SUBMIT_EVENT_PARAM.TYPE_OF_TICKET.formControlName)
                                    }">
                                    </ng-container>
                                </li>

                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.COST
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.COST.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.COST.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.COST.formControlName)?.touched || submitted)">
                                        {{ SUBMIT_EVENT_PARAM.COST.label }}
                                    </label>
                                    <input
                                        [id]="SUBMIT_EVENT_PARAM.COST
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.COST.formControlName)"
                                        [formControlName]="SUBMIT_EVENT_PARAM.COST.formControlName" type="text"
                                        [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.COST.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.COST.formControlName)?.touched || submitted)"
                                        [placeholder]="SUBMIT_EVENT_PARAM.COST.placeholder" [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.COST.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.COST.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.COST.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.COST.errors
                                        }"></ng-container>
                                </li>

                                <li class="pms-field mb-5">
                                    <label
                                        [for]="SUBMIT_EVENT_PARAM.POSTER
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.POSTER.formControlName)"
                                        [class.text-danger]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName)?.touched || submitted)">Poster
                                        of
                                        event</label>
                                    <div class="text-center" *ngIf="!objectURLS.isEmpty()">
                                        <img [src]="objectURLS.last()|safe: SafePipeDomSanitizerTypes.URL"
                                            class="img-fluid d-block mx-auto mb-3" alt="Poster of event">
                                    </div>
                                    <input type="file" (change)="fileBrowseHandler($event)" accept="image/*"
                                        [id]="SUBMIT_EVENT_PARAM.POSTER
                                    .slug(SUBMIT_EVENT_PARAM.NAME_OF_FORM_GROUP, SUBMIT_EVENT_PARAM.POSTER.formControlName)" [class.is-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName)?.invalid && (submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName)?.touched || submitted)"
                                        [attr.aria-invalid]="submitEventFormGroup
                                        ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName)?.invalid"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.POSTER.isRequired"
                                        [attr.aria-required]="SUBMIT_EVENT_PARAM.POSTER.isRequired">
                                    <ng-container [ngTemplateOutlet]="formFieldErrorsTemplate"
                                        [ngTemplateOutletContext]="{
                                            formGroup: submitEventFormGroup
                                            ?.get(SUBMIT_EVENT_PARAM.POSTER.formControlName),
                                            errors: SUBMIT_EVENT_PARAM.POSTER.errors
                                        }"></ng-container>
                                </li>

                            </ul>
                            <div class="row gt-form">
                                <div class="col-md-6 mb-4">
                                    <snap-ajax-button [execute]="onSubmit" [parameter]="submitEventFormGroup">
                                        <ng-container data-animator>
                                            <span class="gen-button-line-left"></span>
                                            <span class="gen-button-text">
                                                <span id="pms-submit-button-loading-placeholder-text"
                                                    class="d-block">Processing
                                                    request...</span>
                                            </span>
                                        </ng-container>
                                        <ng-container data-content>
                                            <span class="gen-button-line-left"></span>
                                            <span class="gen-button-text">Submit event</span>
                                        </ng-container>
                                    </snap-ajax-button>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <a [routerLink]="null" class="gen-button">
                                        <div class="gen-button-block">
                                            Cancel
                                        </div>
                                    </a>
                                </div>



                            </div>

                            <!-- <div class="gen-btn-container">
                                
                            </div> -->
                        </ng-template>

                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Recover-Password -->